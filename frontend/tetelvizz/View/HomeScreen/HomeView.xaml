<?xml version="1.0" encoding="utf-8"?>

<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:components="clr-namespace:tetelvizz.View.HomeScreen.Components"
             xmlns:vm="clr-namespace:tetelvizz.ViewModel"
             x:Class="tetelvizz.View.HomeView"
             BackgroundColor="#121217">
    <ContentPage.BindingContext>
        <vm:HomeViewModel />
    </ContentPage.BindingContext>
    <ContentPage.Content>
        <Grid RowSpacing="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!-- App Bar -->
            <components:CustomAppBar Grid.Row="0" />

            <!-- Scrollable Main Content -->
            <ScrollView Grid.Row="1">
                <VerticalStackLayout Padding="16" Spacing="16">
                    <components:SearchBar />
                    <components:EvaluareBacButton />
                    <components:SubjectFilter />

                     <!-- List -->
                    <CollectionView ItemsSource="{Binding Files}" Margin="0,8,0,0"
                                    EmptyView="Nincs megjeleníthető fájl">
                        <CollectionView.ItemsLayout>
                            <GridItemsLayout Orientation="Vertical" Span="2" />
                        </CollectionView.ItemsLayout>
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <components:SubjectCard />
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView> 
                </VerticalStackLayout>
            </ScrollView>

            <!-- Bottom Navigation Bar -->
            <components:NavBar Grid.Row="2"/>  
        </Grid>
    </ContentPage.Content>
</ContentPage>
